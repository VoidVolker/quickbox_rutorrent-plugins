
    Плагин "datadir", версия 1.2

    к WebUI для rTorrent (ruTorrent)
    (https://github.com/Novik/ruTorrent)

    Автор плагина: Романовский Дмитрий (dmrom)

    Функции плагина:
1. Замена текущего каталога данных торрента на другой. Данная операция
требуется, например, если каталог с данными торрента был перенесен вручную.

Указывать нужно базовый каталог данных (без подкаталога, хранящегося в
торренте) по аналогии с выбором каталога при добавлении нового торрента.

2. Перемещение файлов данных торрента в другой каталог. Реализовано 2 режима:
  а) webserver - перемещение производится от имени пользователя веб-сервера, что
может внести путаницу во владельцев каталогов, если веб-сервер и rtorrent 
запущены от разных пользователей.
  б) rtorrent - перемещение производится в фоновом режиме и процесс никак
не контролируется из веб-броузера. Зато не будет и зависания веб-броузера при 
перемещении файлов на другой раздел ФС.

Режим настраивается в conf.php, по-умолчанию rtorrent.


  Никаких дополнительных манипуляций с рехэшированием после смены каталога
данных торрента не выполняется. rTorrent самостоятельно рехэширует данные
торрента, если он обнаруживает смену размера или времени модификации.
    Отсюда вытекает следующее:
а) если каталог данных был просто перенесен, то смена каталога данных у торрента
   не должна приводить к рехэшированию.
б) если каталог данных был скопирован, то рехэширование будет произведено 
   (изменилось время модификации).

  Для удобства выбора каталога для завершенных закачек на хосте рекомендуется
установить сервисный плагин "_getdir", тогда появится возможность навигации по 
файловой системе хоста.


  Рекомендуется установить для php расширение sysvsem.so. Если осуществляется
перемещение файлов данных для нескольких торрентов, то это позволит выполнять
перемещение по-очереди, а не одновременно для всех торрентов.



-------------------------------------------------------------------------------
История версий:
-------------------------------------------------------------------------------

    3.4
    - плагин адаптирован для версии ruTorrent на 2012-01
    - добавлена опция "задать каталог без учета имени торрента"
    
    1.2
    - плагин адаптирован для ruTorrent версии 3.0

    1.1
    - добавлена возможность перемещать файлы (2 режима)
    - добавлена возможность работы с группой выделенных торрентов

    1.0
    - первая версия

